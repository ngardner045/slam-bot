<?xml version="1.0" encoding="UTF-8"?>
<dds>
  <profiles>
    <transport_descriptors>
      <!-- UDP transport (works across containers/hosts) -->
      <transport_descriptor>
        <transport_id>udp_v4</transport_id>
        <type>UDPv4</type>
      </transport_descriptor>

      <!-- SHM transport (fast, same container/IPC namespace) -->
      <transport_descriptor>
        <transport_id>shm</transport_id>
        <type>SHM</type>
        <!-- tune if you move big messages; 128MB example -->
        <segment_size>134217728</segment_size>
      </transport_descriptor>
    </transport_descriptors>

    <participant profile_name="hybrid_udp_shm" is_default_profile="true">
      <rtps>
        <!-- Turn off DDS default transports, use ours -->
        <useBuiltinTransports>false</useBuiltinTransports>
        <userTransports>
          <transport_id>udp_v4</transport_id>
          <transport_id>shm</transport_id>
        </userTransports>
      </rtps>
    </participant>
  </profiles>
</dds>
